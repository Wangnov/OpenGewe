# 文件分析助手 (FileAnalyzerAssistant)

## 概述

本插件赋予了机器人分析文本文件的能力。用户只需向机器人私聊发送一个 `.txt` 文件，插件便会自动下载文件内容，调用背后的大语言模型（LLM）进行智能分析和总结，并将结果反馈给用户。

## 功能

- **自动文件处理**：监听并自动处理用户发送的文件消息。
- **智能文本分析**：集成强大的AI模型，对文本内容进行深度分析和总结。
- **即时反馈**：在收到文件后会立即给予用户提示，并在分析完成后发送详细的报告。
- **私聊限定**：为保证服务专注和信息私密，本插件仅在私聊中生效。
- **格式限制**：目前仅支持对 `.txt` 格式的纯文本文件进行分析。

## 使用方法

1.  确保插件已启用。
2.  在 `plugins/FileAnalyzerAssistant/config.toml` 文件中填入您的API信息。
3.  在私聊中直接向机器人发送一个 `.txt` 文件。
4.  等待片刻，机器人将会回复对该文件的分析总结报告。

## 配置

配置文件 `config.toml` 示例如下：

```toml
# FileAnalyzerAssistant 插件的配置文件

# 兼容OpenAI格式的API地址
base_url = "https://your-api-endpoint.com/v1"

# API Key
api_key = "sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# 使用的模型名称
model = "gpt-4o"

# 系统提示词，用于设定AI的角色和行为
system_prompt = "你是一个专业的文件分析助手，你的任务是根据用户提供的文本内容，进行简洁、清晰、专业的总结。"
```

**重要提示**：请务必将 `base_url` 和 `api_key` 修改为您自己的有效信息，否则插件将无法工作。

## 依赖

本插件需要 `openai` 和 `aiohttp` 库。如果您的环境中尚未安装，请执行：

```bash
pip install openai aiohttp
```

## 扩展方向

- **支持更多文件格式**：增加对 `.pdf`, `.docx`, `.md` 等更多文件类型的解析能力。
- **指定分析模式**：允许用户通过指令指定分析的模式，如“总结”、“提取要点”、“翻译”等。
- **群聊支持**：增加在群聊中通过@机器人并发送文件来触发分析的功能。